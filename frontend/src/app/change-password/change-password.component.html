<div class="changePassword-box" [formGroup]="changePasswordForm">
  <mat-card>
    <mat-card-title>Change Password</mat-card-title>
    <mat-card-content>
      <mat-list *ngIf="!passwordChanged">
        <mat-list-item>
          <mat-form-field>
            <input
              matInput
              placeholder="Old Password"
              type="password"
              formControlName="password"
            />
            <!-- <mat-error *ngIf="checkspassword()">Wrong Password</mat-error> -->
          </mat-form-field>
        </mat-list-item>
        <br />
        <br />
        <mat-list-item>
          <mat-form-field>
            <input
              type="password"
              matInput
              placeholder="New Password"
              formControlName="newpassword"
            />
            <mat-hint
              >At least 8 letters, capital and small letters and special
              Characters
            </mat-hint>
            <mat-error *ngIf="!validPassword()">
              {{ getErrorMessage() }}</mat-error
            >
          </mat-form-field>
        </mat-list-item>
        <br />
        <br />
        <br />

        <mat-list-item>
          <mat-form-field>
            <input
              type="password"
              matInput
              placeholder="Check Password"
              formControlName="checkpassword"
            />
            <mat-error *ngIf="!validPassword()">
              Password do not match
              </mat-error
            >
          </mat-form-field>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
    <!-- if the btton is clicked, then change the password,  -->
    <button
      *ngIf="!passwordChanged"
      [disabled]="!validPassword() || changePasswordForm.invalid"
      mat-raised-button
      color="primary"
      (click)="checkpassword()"

    >
      Change Password
    </button>
    <div *ngIf="passwordChanged">
      <p>Password has been changed successfully</p>
      <button mat-button routerLink=".." routerLinkActive="active">
        Go Back To Profile
      </button>
      <button mat-button routerLink="" routerLinkActive="active">
        Go Home
      </button>
    </div>
  </mat-card>
</div>
